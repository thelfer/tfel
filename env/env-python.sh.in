#!/usr/bin/env sh
#
# See https://stackoverflow.com/qhttps://stackoverflow.com/questions/59895/how-do-i-get-the-directory-where-a-bash-script-is-located-from-within-the-script for details

get_script_dir()
{
    local SOURCE_PATH="${BASH_SOURCE[0]}"
    local SYMLINK_DIR
    local SCRIPT_DIR
    # Resolve symlinks recursively
    while [ -L "$SOURCE_PATH" ]; do
        # Get symlink directory
        SYMLINK_DIR="$( cd -P "$( dirname "$SOURCE_PATH" )" >/dev/null 2>&1 && pwd )"
        # Resolve symlink target (relative or absolute)
        SOURCE_PATH="$(readlink "$SOURCE_PATH")"
        # Check if candidate path is relative or absolute
        if [[ $SOURCE_PATH != /* ]]; then
            # Candidate path is relative, resolve to full path
            SOURCE_PATH=$SYMLINK_DIR/$SOURCE_PATH
        fi
    done
    # Get final script directory path from fully resolved source path
    SCRIPT_DIR="$(cd -P "$( dirname "$SOURCE_PATH" )" >/dev/null 2>&1 && pwd)"
    echo $SCRIPT_DIR
}

export TFELHOME=$(dirname $(dirname $(dirname $(get_script_dir))))

export PATH=$TFELHOME/bin:$PATH
export LD_LIBRARY_PATH=$TFELHOME/lib:$LD_LIBRARY_PATH
export PYTHONPATH=$TFELHOME/@TFEL_PYTHON_SITE_PACKAGES_DIR@:$PYTHONPATH

